<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <title>BrauBeast Test</title>
        <!-- <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;700&display=swap" rel="stylesheet"> -->
        <link rel="stylesheet" href="/css/fonts.css">
        <style>
            body {
                font-family: 'Josefin Sans', sans-serif;
            }
        </style>
    </head>
    <body>
        <h1>Embed Test Page</h1>
        <h2>Embed Test Page</h2>
        <h3>Embed Test Page</h3>
        <h4>Embed Test Page</h4>
        <h5>Embed Test Page</h5>
        <h6>Embed Test Page</h6>
        <!-- Dev -->
        <link href="https://www.localhost.com:8443/css/embedStyle.css" rel="stylesheet" type="text/css">
        <script
            src="https://www.localhost.com:8443/js/embedScript.js"
            id="crowdsmart-embed-script"
            data-embed-url="https://www.localhost.com:8443/embed/evaluation/cybercorp/b32fadce-9ca8-11eb-b11a-0ad589fedacf/e2a09172-9ca8-11eb-b706-0ad589fedacf"
            data-custom-font-url="https://braubeast.github.io/css/fonts.css">
        </script>
        <script>
            window.addEventListener('message', (event) => {
                let message
                /* if (event.data === 'SUPPLY_TOKEN') {
                    if (window.frames.crowdsmart) window.frames.crowdsmart.postMessage({ token: 'TEST_TOKEN_1' }, 'https://www.localhost.com:8443')
                }
                if (event.data === 'SUPPLY_CONFIG') {
                    const config = {
                        crowdsmart: true,
                        font: {
                            href: 'https://braubeast.github.io/css/fonts.css',
                            family: '"Josefin Sans", sans-serif'
                        }
                    }
                    if (window.frames.crowdsmart) window.frames.crowdsmart.postMessage(config, 'https://www.localhost.com:8443')
                } */
                switch (event.data) {
                    case 'SUPPLY_TOKEN':
                        message = { token: 'TEST_TOKEN_1' }
                        break;
                    case 'SUPPLY_CONFIG':
                        message = {
                            crowdsmart: true,
                            font: {
                                href: 'https://braubeast.github.io/css/fonts.css',
                                family: '"Josefin Sans", sans-serif'
                            }
                        }
                    default:
                        break;
                }
                if (message && window.frames.crowdsmart) window.frames.crowdsmart.postMessage(message, 'https://www.localhost.com:8443')
            })
        </script>
        <!-- Dev End -->

        <!-- Stage -->
        <!-- Stage End -->
    </body>
</html>
